添付ファイル
============

!!! note ""
    最終更新: 2014/08/27
    [[原文](http://www.redmine.org/projects/redmine/wiki/RedmineFiles/8)]

[TOC]

概要
----

Redmineでは添付ファイルをさまざまなリソースに追加できます:

-   チケット: チケットを追加/編集するときに、画面内の「ファイル」欄で追加します。
-   文書: 文書を追加/編集するときに、画面内の「ファイル」欄で追加します。
-   フォーラムのメッセージ: フォーラムのメッセージを追加/編集するときに、画面内の「ファイル」欄から追加します。
-   ニュースの記事: ニュース項目を追加/編集するときに、画面内の「ファイル」欄から追加します。
-   wikiページ: ページの下部にある「新しいファイル」リンクから追加します。

使い方
------

### インライン画像

URLで画像のファイル名を指定（`!attached\_image!` など）すれば、そのファイルが添付されているページ内で画像を表示させることができます。

### プレインテキスト以外のファイル

「[文書](RedmineDocuments)」モジュールで技術文書やユーザー文書を保存し[Wiki](RedmineWikis)からのリンクもできること、また「[ファイル](RedmineFiles)」モジュールで当該プロジェクトでバージョンごとにファイルを配布できることに留意してください。

ただし、このような目的に限らずとも、ファイルアップロード機能はファイルをユーザーに配布する手段を提供します。

ファイルの格納
--------------

アップロードされた添付ファイルは `<Redmine install dir>/files` というディレクトリに格納され、サブディレクトリはファイルをアップロードした年にちなんで命名されます。

ファイルを格納する際のファイル名は、ファイルが添付されているオブジェクトを基にした一意のIDにプリフィックスがついたものです。同名のファイルを複数アップロードすることができますが、Wikiのリンクからアクセスできるのは、直近にアップロードされたファイルのみです。

#### 未添付のアップロードファイル

ユーザーがフォームを送信しなかったときは、アップロードされたファイルは未添付のまま残されます。 [Rakeタスク](RedmineRake) を使ってこれらの不要なファイルを定期的に削除するようにできます。

ファイル添付のフォーム
----------------------

フォームの画像を示します。

[2.3.0](http://www.redmine.org/versions/60) 以降のバージョンでは、ブラウザ(Internet Explorerの場合は10以降)によっては以下のような操作が可能です。

-   複数のファイルを一括で選択して添付する
-   ドラッグアンドドロップでファイルを添付する

ファイルのアップロードが完了すると、任意の説明が入力できるフィールドが表示されます。親となるコンテンツ(チケットの説明や注記、フォーラムのメッセージ、wikiページ、文書など)内で `!image\_url!` などと記述して添付された画像をインライン表示させたときは、説明欄に入力した内容が画像の代替テキスト(img要素のalt属性)として使われます。

![](RedmineAttachedFiles/UploadFile.png)

「新しいファイル」リンクでのファイル追加
----------------------------------------

Redmine には多くのページの下部に「新規ファイル」リンクがあります。ここからファイルを添付すると、そのページはファイルの親ページとなり、添付ファイルは該当ページ内でのみ参照できます。
