カスタムフィールド
==================

!!! note ""
    最終更新: 2017/09/11
    [[原文](http://www.redmine.org/projects/redmine/wiki/RedmineCustomFields/27)]

[TOC]

カスタムフィールドを使うとRedmineのさまざまなデータに独自定義の項目を追加できます。

利用できるカスタムフィールドの一覧は [カスタムフィールドの形式](#Custom-field-types) を、カスタムフィールドを追加できるデータの一覧は [カスタムフィードを追加できるデータ型](#Custom-field-supporting-data-types) を参照してください。

カスタムフィールドの形式 {: #Custom-field-types }
------------------------

### 形式

-   **真偽値**: チェックボックス
-   **日付**: 日付
-   **小数**: 浮動小数点数
-   **整数**: 正または負の値
-   **リンク**: URL
-   **リスト**: ドロップダウンリスト
-   **長いテキスト**: 複数行にわたる文字列
-   **テキスト**: 一行の文字列
-   **ユーザー**: プロジェクトに参加しているメンバー
-   **バージョン**: プロジェクトに登録されているバージョン

### バリデーション（妥当性検査）

それぞれのカスタムフィールドに対してバリデーションを定義できます。

-   **最短 - 最大長** : フィールドの長さの最小値・最大値(0の場合は制限無し)
-   **正規表現** : フィールドの内容を検査するのに使用する正規表現

例:

`^\[A-Z]{4}\d+$` : アルファベット大文字4文字と、後続する４桁の数字

`^[^0-9]*$` : 文字列（数字を含まない）

利用可能な正規表現は、[Rubyのリファレンス](https://docs.ruby-lang.org/ja/2.4.0/doc/spec=2fregexp.html) で確認できます。

### 値

一部の型式のカスタムフィールドは複数の値とデフォルト値に対応しています。

* **複数選択可:** 有効にすると、複数の値を選択できるようになります
* **選択肢:** リスト形式のカスタムフィールドに対する選択肢を定義します。1行が1つの選択肢に対応します
* **デフォルト値:** 何も入力されなかったときに適用されるデフォルト値です

### テキスト書式

一部の形式のカスタムフィールドはテキスト書式に対応しています。

* **テキスト書式:** TextileやMarkdownなどのマークアップを利用できるようにします。この設定をONにすると、後述の設定「値に設定するリンクURL」は利用できなくなります。

### 値に設定するリンクURL

「値に設定するリンクURL」は、真偽値、日付、整数、リスト、テキスト形式のカスタムフィールドに対して定義できます。

* **値に設定するリンクURL:** 以下の変数を使用してURLを生成できます。
  * `%value%` => カスタムフィールドの値
  * `%id%` => カスタムフィールドを持つオブジェクトのID番号
  * `%project_id%` => プロジェクトのID番号
  * `%project_identifier%` => プロジェクト識別子
  * `%m1%, %m2%...` => グループにマッチした文字列を後方参照する

例:
<pre>
https://www.redmine.org/issues/%value%
</pre>


カスタムフィードを追加できるデータ型 {: #Custom-field-supporting-data-types }
----------------------------

### チケット

チケットのカスタムフィールドの値は、[チケット](RedmineIssues)、[チケット一覧](RedmineIssueList)、[カスタムクエリ](RedmineIssueList#Custom-queries)、[作業時間](RedmineTimelogReport)画面で利用・参照できます。

-   **トラッカー**:
-   **必須**: ONにすると、チケットの登録・更新時の必須項目になります。
-   **全プロジェクト向け**: ONにすると、このカスタムフィールドはすべてのプロジェクトのチケットで使われます。OFFにすると、プロジェクトごとにこのカスタムフィールドを使用するかどうか選択できます。 ([プロジェクトの設定](RedmineProjectSettings) を参照).
-   **フィルタとして使用**:
-   **検索対象**: Redmineの検索機能で検索可能になります ([検索](RedmineSearch) を参照)

### 作業時間

「作業時間」のカスタムフィールドの値は、[作業時間](RedmineTimelogReport)画面で利用／参照できます。

-   **必須**: ONにすると、作業時間の登録・更新時の必須項目になります。

### プロジェクト {: #Fields-for-Projects }

プロジェクトのカスタムフィールドの値は、各プロジェクトの[「概要」画面](RedmineProjectOverview)で利用・参照できます。

-   **必須**: ONにすると、プロジェクトの作成・保存時の必須項目になります。
-   **検索対象**: Redmineの検索機能で検索可能になります ([検索](RedmineSearch) を参照)

### バージョン

バージョンのカスタムフィールドは[ロードマップ画面](RedmineRoadmap)および個別の[バージョンの表示画面](RedmineVersion)で利用・参照できます。

-   **必須**: ONにすると、バージョンの登録・更新時の必須項目になります。

### ユーザー

ユーザーのカスタムフィールドはユーザー情報画面で利用・参照できます。

-   **必須**: ONにすると、ユーザーの作成・保存時の必須項目になります。
-   **表示**: ONにすると、ユーザーのプロフィール画面に表示されます。
-   **編集可能**: 各ユーザーが自分のユーザーアカウントのカスタムフィールドの値を編集できるようになります。

### グループ

**注意**: グループのカスタムフィールドは現時点ではRedmine本体では使われておらず、ここでの設定はRedmineの動作には何の影響も及ぼしません。グループに対するカスタムフィールドを利用するプラグインやテーマを開発することはできます。

### 作業分類 (時間管理)

作業分類のカスタムフィールドは作業時間画面とプロジェクトの設定画面で利用・参照できます。この機能の詳細については [#4077](http://www.redmine.org/issues/4077) もあわせて参照してください。

-   **必須**: ONにすると、作業分類の登録・更新時の必須項目になります。

### チケットの優先度

**注意**: チケットの優先度のカスタムフィールドは現時点ではRedmine本体では使われておらず、ここでの設定はRedmineの動作には何の影響も及ぼしません。グループに対するカスタムフィールドを利用するプラグインやテーマを開発することはできます。

### 文書カテゴリ

**注意**: 文書カテゴリのカスタムフィールドは現時点ではRedmine本体では使われておらず、ここでの設定はRedmineの動作には何の影響も及ぼしません。グループに対するカスタムフィールドを利用するプラグインやテーマを開発することはできます。
